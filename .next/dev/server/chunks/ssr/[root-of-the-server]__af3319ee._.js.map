{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 22, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/coenie/kpi-tracker/app/dashboard/page.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useEffect, useState, useRef } from 'react';\r\nimport { useRouter } from 'next/navigation';\r\nimport { useAuth } from '../context/AuthContext';\r\nimport { getTicketsByUserId, createTicket, closeTicket, addTicketUpdate, uploadProfilePicture, uploadTicketAttachment, updateTicket, Ticket } from '../lib/supabase';\r\nimport Link from 'next/link';\r\nimport Image from 'next/image';\r\n\r\n// Hook to force re-render every minute for time tracking\r\nfunction useTimeUpdate() {\r\n  const [, setTick] = useState(0);\r\n  \r\n  useEffect(() => {\r\n    const interval = setInterval(() => {\r\n      setTick(t => t + 1);\r\n    }, 60000); // Update every minute\r\n    \r\n    return () => clearInterval(interval);\r\n  }, []);\r\n}\r\n\r\ntype TaskLocation = 'on-site' | 'remote';\r\n\r\nexport default function DashboardPage() {\r\n  const router = useRouter();\r\n  const { user, profile, loading, isAdmin, signOut, refreshProfile } = useAuth();\r\n  const fileInputRef = useRef<HTMLInputElement>(null);\r\n  \r\n  // Force re-render every minute to update time tracker\r\n  useTimeUpdate();\r\n  \r\n  const [tickets, setTickets] = useState<Ticket[]>([]);\r\n  const [loadingTickets, setLoadingTickets] = useState(true);\r\n  const [showNewTicketForm, setShowNewTicketForm] = useState(false);\r\n  const [activeTab, setActiveTab] = useState<'open' | 'closed'>('open');\r\n  const [closingTicketId, setClosingTicketId] = useState<string | null>(null);\r\n  const [isSubmitting, setIsSubmitting] = useState(false);\r\n  const [uploadingPicture, setUploadingPicture] = useState(false);\r\n  const [uploadingFiles, setUploadingFiles] = useState(false);\r\n  \r\n  const [newTicketData, setNewTicketData] = useState({\r\n    issue: '',\r\n    location: 'remote' as TaskLocation,\r\n    client: '',\r\n    clickupTicket: '',\r\n    hasDependencies: false,\r\n    dependencyName: '',\r\n    ticketType: '' as 'Hardware' | 'Software' | 'New Site' | '',\r\n    estateOrBuilding: '',\r\n    cmlLocation: '',\r\n    // New Site fields\r\n    siteName: '',\r\n    installers: [] as string[],\r\n    installerInput: '',\r\n    dependencies: [] as string[],\r\n    dependencyInput: '',\r\n    targetDate: '',\r\n    // File uploads\r\n    attachments: [] as File[],\r\n    siteFiles: [] as { file: File; label: string }[]\r\n  });\r\n\r\n  const [closeTicketData, setCloseTicketData] = useState({\r\n    resolution: ''\r\n  });\r\n\r\n  // Update ticket state\r\n  const [updatingTicketId, setUpdatingTicketId] = useState<string | null>(null);\r\n  const [newUpdateText, setNewUpdateText] = useState('');\r\n\r\n  // Redirect if not authenticated\r\n  useEffect(() => {\r\n    if (!loading && !user) {\r\n      router.push('/login');\r\n    }\r\n  }, [user, loading, router]);\r\n\r\n  // Load tickets - only when user ID changes\r\n  useEffect(() => {\r\n    if (user?.id) {\r\n      loadTickets();\r\n    }\r\n  }, [user?.id]);\r\n\r\n  const loadTickets = async () => {\r\n    if (!user) return;\r\n    setLoadingTickets(true);\r\n    const data = await getTicketsByUserId(user.id);\r\n    setTickets(data);\r\n    setLoadingTickets(false);\r\n  };\r\n\r\n  const handleCreateTicket = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    \r\n    // Prevent double submission\r\n    if (isSubmitting || uploadingFiles) return;\r\n    \r\n    if (!user) return;\r\n    if (!newTicketData.issue.trim()) return;\r\n    if (!newTicketData.client.trim()) return;\r\n    if (!newTicketData.ticketType) return;\r\n    \r\n    // Validation for regular tickets\r\n    if (newTicketData.ticketType !== 'New Site') {\r\n      if (!newTicketData.estateOrBuilding.trim()) return;\r\n      if (!newTicketData.cmlLocation.trim()) return;\r\n      if (newTicketData.hasDependencies && !newTicketData.dependencyName.trim()) return;\r\n    }\r\n    \r\n    // Validation for New Site tickets\r\n    if (newTicketData.ticketType === 'New Site') {\r\n      if (!newTicketData.siteName.trim()) return;\r\n    }\r\n\r\n    setIsSubmitting(true);\r\n    setUploadingFiles(true);\r\n    \r\n    try {\r\n      // Create ticket first (without files)\r\n      const ticketPayload: any = {\r\n        user_id: user.id,\r\n        client: newTicketData.client.trim(),\r\n        clickup_ticket: newTicketData.clickupTicket.trim() || undefined,\r\n        location: newTicketData.location,\r\n        issue: newTicketData.issue.trim(),\r\n        created_by: user.id,\r\n        ticket_type: newTicketData.ticketType,\r\n      };\r\n\r\n      // Add regular ticket fields\r\n      if (newTicketData.ticketType !== 'New Site') {\r\n        ticketPayload.estate_or_building = newTicketData.estateOrBuilding.trim();\r\n        ticketPayload.cml_location = newTicketData.cmlLocation.trim();\r\n        ticketPayload.has_dependencies = newTicketData.hasDependencies;\r\n        ticketPayload.dependency_name = newTicketData.hasDependencies ? newTicketData.dependencyName.trim() : undefined;\r\n      }\r\n\r\n      // Add New Site fields\r\n      if (newTicketData.ticketType === 'New Site') {\r\n        ticketPayload.site_name = newTicketData.siteName.trim();\r\n        ticketPayload.installers = newTicketData.installers;\r\n        ticketPayload.dependencies = newTicketData.dependencies;\r\n        ticketPayload.target_date = newTicketData.targetDate || undefined;\r\n      }\r\n\r\n      const { data, error } = await createTicket(ticketPayload);\r\n      \r\n      if (error || !data) {\r\n        alert('Error creating ticket: ' + (error as Error).message);\r\n        return;\r\n      }\r\n      \r\n      // Upload attachments for regular tickets (max 5)\r\n      if (newTicketData.ticketType !== 'New Site' && newTicketData.attachments.length > 0) {\r\n        setUploadingFiles(true);\r\n        const uploadPromises = newTicketData.attachments.slice(0, 5).map(async (file) => {\r\n          const { url, error } = await uploadTicketAttachment(data.id, file, 'attachment');\r\n          if (error || !url) {\r\n            console.error('Error uploading attachment:', error);\r\n            return null;\r\n          }\r\n          return { url, name: file.name, type: file.type };\r\n        });\r\n        const results = await Promise.all(uploadPromises);\r\n        const attachments = results.filter((r): r is { url: string; name: string; type: string } => r !== null);\r\n        \r\n        // Update ticket with attachments\r\n        if (attachments.length > 0) {\r\n          await updateTicket(data.id, { attachments });\r\n        }\r\n      }\r\n\r\n      // Upload site files for New Site tickets\r\n      if (newTicketData.ticketType === 'New Site' && newTicketData.siteFiles.length > 0) {\r\n        setUploadingFiles(true);\r\n        const siteFilePromises = newTicketData.siteFiles.map(async ({ file, label }) => {\r\n          const { url, error } = await uploadTicketAttachment(data.id, file, 'site_file', label);\r\n          if (error || !url) {\r\n            console.error('Error uploading site file:', error);\r\n            return null;\r\n          }\r\n          return { url, name: file.name, type: file.type, label };\r\n        });\r\n        const siteFileResults = await Promise.all(siteFilePromises);\r\n        const siteFiles = siteFileResults.filter((r): r is { url: string; name: string; type: string; label?: string } => r !== null);\r\n        \r\n        // Update ticket with site files\r\n        if (siteFiles.length > 0) {\r\n          await updateTicket(data.id, { site_files: siteFiles });\r\n        }\r\n      }\r\n      \r\n      // Reload tickets from database\r\n      await loadTickets();\r\n      setNewTicketData({ \r\n        issue: '', \r\n        location: 'remote', \r\n        client: '', \r\n        clickupTicket: '', \r\n        hasDependencies: false, \r\n        dependencyName: '', \r\n        ticketType: '', \r\n        estateOrBuilding: '', \r\n        cmlLocation: '',\r\n        siteName: '',\r\n        installers: [],\r\n        installerInput: '',\r\n        dependencies: [],\r\n        dependencyInput: '',\r\n        targetDate: '',\r\n        attachments: [],\r\n        siteFiles: []\r\n      });\r\n      setShowNewTicketForm(false);\r\n    } finally {\r\n      setIsSubmitting(false);\r\n      setUploadingFiles(false);\r\n    }\r\n  };\r\n\r\n  const handleAddUpdate = async (ticketId: string) => {\r\n    if (!newUpdateText.trim()) return;\r\n\r\n    const { data, error } = await addTicketUpdate(ticketId, newUpdateText.trim(), profile?.full_name);\r\n\r\n    if (!error && data) {\r\n      await loadTickets();\r\n      setNewUpdateText('');\r\n      setUpdatingTicketId(null);\r\n    } else if (error) {\r\n      alert('Error adding update: ' + (error as Error).message);\r\n    }\r\n  };\r\n\r\n  const handleCloseTicket = async (ticketId: string) => {\r\n    if (!closeTicketData.resolution.trim()) return;\r\n\r\n    const { data, error } = await closeTicket(\r\n      ticketId,\r\n      closeTicketData.resolution.trim()\r\n    );\r\n\r\n    if (!error && data) {\r\n      await loadTickets();\r\n      setClosingTicketId(null);\r\n      setCloseTicketData({ resolution: '' });\r\n    }\r\n  };\r\n\r\n  const handleSignOut = async () => {\r\n    await signOut();\r\n    router.push('/login');\r\n  };\r\n\r\n  const handleProfilePictureUpload = async (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    const file = e.target.files?.[0];\r\n    if (!file || !user) return;\r\n\r\n    // Validate file type\r\n    if (!file.type.startsWith('image/')) {\r\n      alert('Please select an image file');\r\n      return;\r\n    }\r\n\r\n    // Validate file size (max 5MB)\r\n    if (file.size > 5 * 1024 * 1024) {\r\n      alert('Image size must be less than 5MB');\r\n      return;\r\n    }\r\n\r\n    setUploadingPicture(true);\r\n    try {\r\n      const { publicUrl, error } = await uploadProfilePicture(user.id, file);\r\n      \r\n      if (error) {\r\n        alert('Error uploading profile picture: ' + (error as Error).message);\r\n        return;\r\n      }\r\n\r\n      if (publicUrl) {\r\n        // Refresh profile to get updated avatar_url\r\n        await refreshProfile();\r\n        alert('Profile picture updated successfully!');\r\n      }\r\n    } catch (error) {\r\n      console.error('Error uploading profile picture:', error);\r\n      alert('Error uploading profile picture. Please try again.');\r\n    } finally {\r\n      setUploadingPicture(false);\r\n      // Reset file input\r\n      if (fileInputRef.current) {\r\n        fileInputRef.current.value = '';\r\n      }\r\n    }\r\n  };\r\n\r\n  // Calculate KPIs\r\n  const calculateKPIs = () => {\r\n    const closedTickets = tickets.filter(t => t.status === 'closed');\r\n    const totalTickets = tickets.length;\r\n    \r\n    if (totalTickets === 0) return null;\r\n\r\n    const ticketsHandled = ((closedTickets.length / totalTickets) * 100).toFixed(1);\r\n    \r\n    const ticketsWithResponse = closedTickets.filter(t => t.response_time_minutes && t.response_time_minutes > 0);\r\n    const avgResponseTime = ticketsWithResponse.length > 0\r\n      ? (ticketsWithResponse.reduce((sum, t) => sum + (t.response_time_minutes || 0), 0) / ticketsWithResponse.length).toFixed(0)\r\n      : '0';\r\n\r\n    return {\r\n      ticketsHandled,\r\n      avgResponseTime,\r\n      openTickets: tickets.filter(t => t.status === 'open').length,\r\n      closedTickets: closedTickets.length,\r\n      totalTickets,\r\n      onSiteTickets: tickets.filter(t => t.location === 'on-site').length,\r\n      remoteTickets: tickets.filter(t => t.location === 'remote').length\r\n    };\r\n  };\r\n\r\n  const kpis = calculateKPIs();\r\n  const openTickets = tickets.filter(t => t.status === 'open');\r\n  const closedTickets = tickets.filter(t => t.status === 'closed');\r\n\r\n  const getAvatarGradient = () => {\r\n    const colors = [\r\n      'from-cyan-400 to-blue-500',\r\n      'from-violet-400 to-purple-500',\r\n      'from-rose-400 to-pink-500',\r\n      'from-amber-400 to-orange-500',\r\n      'from-emerald-400 to-teal-500',\r\n    ];\r\n    const index = (profile?.full_name?.charCodeAt(0) ?? 0) % colors.length;\r\n    return colors[index];\r\n  };\r\n\r\n  if (loading || !user || !profile) {\r\n    return (\r\n      <div className=\"min-h-screen bg-slate-950 flex items-center justify-center\">\r\n        <div className=\"w-8 h-8 border-2 border-cyan-500 border-t-transparent rounded-full animate-spin\" />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-slate-950 bg-grid-pattern bg-radial-gradient\">\r\n      {/* Header */}\r\n      <header className=\"sticky top-0 z-40 glass border-b border-slate-700/50\">\r\n        <div className=\"max-w-4xl mx-auto px-6 py-4\">\r\n          <div className=\"flex items-center gap-4\">\r\n            <div className=\"relative group\">\r\n              {profile.avatar_url ? (\r\n                <Image\r\n                  src={profile.avatar_url}\r\n                  alt={profile.full_name}\r\n                  width={48}\r\n                  height={48}\r\n                  className=\"w-12 h-12 rounded-xl object-cover shadow-lg\"\r\n                />\r\n              ) : (\r\n                <div className={`w-12 h-12 rounded-xl bg-gradient-to-br ${getAvatarGradient()} flex items-center justify-center text-white font-bold shadow-lg`}>\r\n                  {profile.avatar}\r\n                </div>\r\n              )}\r\n              <button\r\n                onClick={() => fileInputRef.current?.click()}\r\n                disabled={uploadingPicture}\r\n                className=\"absolute -bottom-1 -right-1 w-6 h-6 rounded-full bg-cyan-500 text-white flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity hover:bg-cyan-400 disabled:opacity-50 disabled:cursor-not-allowed\"\r\n                title=\"Upload or edit profile picture\"\r\n              >\r\n                {uploadingPicture ? (\r\n                  <div className=\"w-3.5 h-3.5 border-2 border-white border-t-transparent rounded-full animate-spin\" />\r\n                ) : (\r\n                  <svg className=\"w-3.5 h-3.5\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z\" />\r\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M15 13a3 3 0 11-6 0 3 3 0 016 0z\" />\r\n                  </svg>\r\n                )}\r\n              </button>\r\n              <input\r\n                ref={fileInputRef}\r\n                type=\"file\"\r\n                accept=\"image/*\"\r\n                onChange={handleProfilePictureUpload}\r\n                className=\"hidden\"\r\n              />\r\n            </div>\r\n            <div className=\"flex-1\">\r\n              <h1 className=\"text-xl font-bold text-white\">{profile.full_name}</h1>\r\n              <p className=\"text-sm text-slate-400\">{profile.role}</p>\r\n            </div>\r\n            \r\n            {isAdmin && (\r\n              <Link\r\n                href=\"/admin\"\r\n                className=\"px-4 py-2 rounded-xl bg-gradient-to-r from-rose-500 to-orange-600 text-white text-sm font-medium hover:shadow-lg transition-all\"\r\n              >\r\n                Admin Dashboard\r\n              </Link>\r\n            )}\r\n            \r\n            <button\r\n              onClick={handleSignOut}\r\n              className=\"px-4 py-2 rounded-xl bg-slate-800 border border-slate-700 text-slate-400 hover:text-white hover:bg-slate-700 transition-colors text-sm flex items-center gap-2\"\r\n            >\r\n              <svg className=\"w-4 h-4\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1\" />\r\n              </svg>\r\n              Sign Out\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </header>\r\n\r\n      <main className=\"max-w-4xl mx-auto px-6 py-8\">\r\n        {/* KPI Summary */}\r\n        {kpis && (\r\n          <section className=\"mb-8 animate-fade-in\">\r\n            <h2 className=\"text-lg font-semibold text-white mb-4 flex items-center gap-2\">\r\n              <svg className=\"w-5 h-5 text-emerald-400\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z\" />\r\n              </svg>\r\n              Your Performance Summary\r\n            </h2>\r\n            <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4\">\r\n              <div className=\"p-4 rounded-xl bg-slate-800/50 border border-slate-700/50\">\r\n                <p className=\"text-xs text-slate-500 mb-1\">Tickets Handled</p>\r\n                <p className={`text-2xl font-bold ${parseFloat(kpis.ticketsHandled) >= 80 ? 'text-emerald-400' : 'text-amber-400'}`}>\r\n                  {kpis.ticketsHandled}%\r\n                </p>\r\n                <p className=\"text-xs text-slate-600 mt-1\">Target: 80%</p>\r\n              </div>\r\n              <div className=\"p-4 rounded-xl bg-slate-800/50 border border-slate-700/50\">\r\n                <p className=\"text-xs text-slate-500 mb-1\">Avg Response Time</p>\r\n                <p className={`text-2xl font-bold ${parseFloat(kpis.avgResponseTime) <= 60 ? 'text-emerald-400' : 'text-amber-400'}`}>\r\n                  {kpis.avgResponseTime} min\r\n                </p>\r\n                <p className=\"text-xs text-slate-600 mt-1\">Target: ‚â§60 min</p>\r\n              </div>\r\n              <div className=\"p-4 rounded-xl bg-slate-800/50 border border-slate-700/50\">\r\n                <p className=\"text-xs text-slate-500 mb-1\">Open / Closed</p>\r\n                <p className=\"text-2xl font-bold text-white\">\r\n                  <span className=\"text-amber-400\">{kpis.openTickets}</span>\r\n                  <span className=\"text-slate-600 mx-1\">/</span>\r\n                  <span className=\"text-emerald-400\">{kpis.closedTickets}</span>\r\n                </p>\r\n                <p className=\"text-xs text-slate-600 mt-1\">Total: {kpis.totalTickets}</p>\r\n              </div>\r\n              <div className=\"p-4 rounded-xl bg-slate-800/50 border border-slate-700/50\">\r\n                <p className=\"text-xs text-slate-500 mb-1\">Location Split</p>\r\n                <div className=\"flex items-center gap-2\">\r\n                  <span className=\"text-sm text-cyan-400\">{kpis.onSiteTickets} On-site</span>\r\n                  <span className=\"text-slate-600\">|</span>\r\n                  <span className=\"text-sm text-violet-400\">{kpis.remoteTickets} Remote</span>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </section>\r\n        )}\r\n\r\n        {/* New Ticket Button */}\r\n        <div className=\"mb-6\">\r\n          <button\r\n            onClick={() => setShowNewTicketForm(!showNewTicketForm)}\r\n            className=\"flex items-center gap-2 px-5 py-3 rounded-xl bg-gradient-to-r from-cyan-500 to-blue-600 text-white font-medium shadow-lg shadow-cyan-500/25 hover:shadow-cyan-500/40 transition-all hover:-translate-y-0.5\"\r\n          >\r\n            <svg className=\"w-5 h-5\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 4v16m8-8H4\" />\r\n            </svg>\r\n            {showNewTicketForm ? 'Cancel' : 'Open New Ticket'}\r\n          </button>\r\n        </div>\r\n\r\n        {/* New Ticket Form */}\r\n        {showNewTicketForm && (\r\n          <form onSubmit={handleCreateTicket} className=\"mb-8 p-6 rounded-2xl bg-slate-800/50 border border-slate-700/50 animate-fade-in\">\r\n            <h3 className=\"text-lg font-semibold text-white mb-6\">Open New Ticket</h3>\r\n            \r\n            <div className=\"space-y-5\">\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-slate-300 mb-2\">Date</label>\r\n                <div className=\"px-4 py-3 rounded-xl bg-slate-900/50 border border-slate-700/50 text-slate-400\">\r\n                  {new Date().toLocaleDateString('en-ZA', { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' })}\r\n                </div>\r\n              </div>\r\n\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-slate-300 mb-2\">Client <span className=\"text-rose-400\">*</span></label>\r\n                <select\r\n                  value={newTicketData.client}\r\n                  onChange={(e) => setNewTicketData({ ...newTicketData, client: e.target.value })}\r\n                  required\r\n                  className=\"w-full px-4 py-3 rounded-xl bg-slate-900 border border-slate-700 text-white focus:border-cyan-500 outline-none appearance-none cursor-pointer\"\r\n                >\r\n                  <option value=\"\">Select a client...</option>\r\n                  <option value=\"Redefine\">Redefine</option>\r\n                  <option value=\"Balwin\">Balwin</option>\r\n                  <option value=\"Go Waterfall\">Go Waterfall</option>\r\n                  <option value=\"Go City\">Go City</option>\r\n                </select>\r\n              </div>\r\n\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-slate-300 mb-2\">Type <span className=\"text-rose-400\">*</span></label>\r\n                <select\r\n                  value={newTicketData.ticketType}\r\n                  onChange={(e) => setNewTicketData({ ...newTicketData, ticketType: e.target.value as 'Hardware' | 'Software' | 'New Site' | '' })}\r\n                  required\r\n                  className=\"w-full px-4 py-3 rounded-xl bg-slate-900 border border-slate-700 text-white focus:border-cyan-500 outline-none appearance-none cursor-pointer\"\r\n                >\r\n                  <option value=\"\">Select type...</option>\r\n                  <option value=\"Hardware\">Hardware</option>\r\n                  <option value=\"Software\">Software</option>\r\n                  <option value=\"New Site\">New Site</option>\r\n                </select>\r\n              </div>\r\n\r\n              {/* Regular ticket fields (Hardware/Software) */}\r\n              {newTicketData.ticketType !== 'New Site' && (\r\n                <>\r\n                  <div>\r\n                    <label className=\"block text-sm font-medium text-slate-300 mb-2\">Estate or Building <span className=\"text-rose-400\">*</span></label>\r\n                    <input\r\n                      type=\"text\"\r\n                      value={newTicketData.estateOrBuilding}\r\n                      onChange={(e) => setNewTicketData({ ...newTicketData, estateOrBuilding: e.target.value })}\r\n                      required={newTicketData.ticketType !== 'New Site'}\r\n                      className=\"w-full px-4 py-3 rounded-xl bg-slate-900 border border-slate-700 text-white focus:border-cyan-500 outline-none\"\r\n                      placeholder=\"Enter estate or building name...\"\r\n                    />\r\n                  </div>\r\n\r\n                  <div>\r\n                    <label className=\"block text-sm font-medium text-slate-300 mb-1\">Location <span className=\"text-rose-400\">*</span></label>\r\n                    <p className=\"text-xs text-slate-500 mb-2\">as per CML</p>\r\n                    <input\r\n                      type=\"text\"\r\n                      value={newTicketData.cmlLocation}\r\n                      onChange={(e) => setNewTicketData({ ...newTicketData, cmlLocation: e.target.value })}\r\n                      required={newTicketData.ticketType !== 'New Site'}\r\n                      className=\"w-full px-4 py-3 rounded-xl bg-slate-900 border border-slate-700 text-white focus:border-cyan-500 outline-none\"\r\n                      placeholder=\"Enter location...\"\r\n                    />\r\n                  </div>\r\n                </>\r\n              )}\r\n\r\n              {/* New Site specific fields */}\r\n              {newTicketData.ticketType === 'New Site' && (\r\n                <>\r\n                  <div>\r\n                    <label className=\"block text-sm font-medium text-slate-300 mb-2\">Site Name <span className=\"text-rose-400\">*</span></label>\r\n                    <input\r\n                      type=\"text\"\r\n                      value={newTicketData.siteName}\r\n                      onChange={(e) => setNewTicketData({ ...newTicketData, siteName: e.target.value })}\r\n                      required\r\n                      className=\"w-full px-4 py-3 rounded-xl bg-slate-900 border border-slate-700 text-white focus:border-cyan-500 outline-none\"\r\n                      placeholder=\"Enter site name...\"\r\n                    />\r\n                  </div>\r\n\r\n                  <div>\r\n                    <label className=\"block text-sm font-medium text-slate-300 mb-2\">Installers</label>\r\n                    <div className=\"flex gap-2 mb-2\">\r\n                      <input\r\n                        type=\"text\"\r\n                        value={newTicketData.installerInput}\r\n                        onChange={(e) => setNewTicketData({ ...newTicketData, installerInput: e.target.value })}\r\n                        onKeyPress={(e) => {\r\n                          if (e.key === 'Enter') {\r\n                            e.preventDefault();\r\n                            if (newTicketData.installerInput.trim()) {\r\n                              setNewTicketData({\r\n                                ...newTicketData,\r\n                                installers: [...newTicketData.installers, newTicketData.installerInput.trim()],\r\n                                installerInput: ''\r\n                              });\r\n                            }\r\n                          }\r\n                        }}\r\n                        className=\"flex-1 px-4 py-3 rounded-xl bg-slate-900 border border-slate-700 text-white focus:border-cyan-500 outline-none\"\r\n                        placeholder=\"Enter installer name and press Enter...\"\r\n                      />\r\n                      <button\r\n                        type=\"button\"\r\n                        onClick={() => {\r\n                          if (newTicketData.installerInput.trim()) {\r\n                            setNewTicketData({\r\n                              ...newTicketData,\r\n                              installers: [...newTicketData.installers, newTicketData.installerInput.trim()],\r\n                              installerInput: ''\r\n                            });\r\n                          }\r\n                        }}\r\n                        className=\"px-4 py-3 rounded-xl bg-cyan-500/20 border border-cyan-500 text-cyan-400 hover:bg-cyan-500/30\"\r\n                      >\r\n                        Add\r\n                      </button>\r\n                    </div>\r\n                    {newTicketData.installers.length > 0 && (\r\n                      <div className=\"flex flex-wrap gap-2\">\r\n                        {newTicketData.installers.map((installer, idx) => (\r\n                          <span key={idx} className=\"px-3 py-1 rounded-lg bg-slate-700 text-slate-300 text-sm flex items-center gap-2\">\r\n                            {installer}\r\n                            <button\r\n                              type=\"button\"\r\n                              onClick={() => {\r\n                                setNewTicketData({\r\n                                  ...newTicketData,\r\n                                  installers: newTicketData.installers.filter((_, i) => i !== idx)\r\n                                });\r\n                              }}\r\n                              className=\"text-rose-400 hover:text-rose-300\"\r\n                            >\r\n                              √ó\r\n                            </button>\r\n                          </span>\r\n                        ))}\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n\r\n                  <div>\r\n                    <label className=\"block text-sm font-medium text-slate-300 mb-2\">Dependencies</label>\r\n                    <div className=\"flex gap-2 mb-2\">\r\n                      <input\r\n                        type=\"text\"\r\n                        value={newTicketData.dependencyInput}\r\n                        onChange={(e) => setNewTicketData({ ...newTicketData, dependencyInput: e.target.value })}\r\n                        onKeyPress={(e) => {\r\n                          if (e.key === 'Enter') {\r\n                            e.preventDefault();\r\n                            if (newTicketData.dependencyInput.trim()) {\r\n                              setNewTicketData({\r\n                                ...newTicketData,\r\n                                dependencies: [...newTicketData.dependencies, newTicketData.dependencyInput.trim()],\r\n                                dependencyInput: ''\r\n                              });\r\n                            }\r\n                          }\r\n                        }}\r\n                        className=\"flex-1 px-4 py-3 rounded-xl bg-slate-900 border border-slate-700 text-white focus:border-cyan-500 outline-none\"\r\n                        placeholder=\"Enter dependency and press Enter...\"\r\n                      />\r\n                      <button\r\n                        type=\"button\"\r\n                        onClick={() => {\r\n                          if (newTicketData.dependencyInput.trim()) {\r\n                            setNewTicketData({\r\n                              ...newTicketData,\r\n                              dependencies: [...newTicketData.dependencies, newTicketData.dependencyInput.trim()],\r\n                              dependencyInput: ''\r\n                            });\r\n                          }\r\n                        }}\r\n                        className=\"px-4 py-3 rounded-xl bg-cyan-500/20 border border-cyan-500 text-cyan-400 hover:bg-cyan-500/30\"\r\n                      >\r\n                        Add\r\n                      </button>\r\n                    </div>\r\n                    {newTicketData.dependencies.length > 0 && (\r\n                      <div className=\"flex flex-wrap gap-2\">\r\n                        {newTicketData.dependencies.map((dep, idx) => (\r\n                          <span key={idx} className=\"px-3 py-1 rounded-lg bg-slate-700 text-slate-300 text-sm flex items-center gap-2\">\r\n                            {dep}\r\n                            <button\r\n                              type=\"button\"\r\n                              onClick={() => {\r\n                                setNewTicketData({\r\n                                  ...newTicketData,\r\n                                  dependencies: newTicketData.dependencies.filter((_, i) => i !== idx)\r\n                                });\r\n                              }}\r\n                              className=\"text-rose-400 hover:text-rose-300\"\r\n                            >\r\n                              √ó\r\n                            </button>\r\n                          </span>\r\n                        ))}\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n\r\n                  <div>\r\n                    <label className=\"block text-sm font-medium text-slate-300 mb-2\">Target Date</label>\r\n                    <input\r\n                      type=\"date\"\r\n                      value={newTicketData.targetDate}\r\n                      onChange={(e) => setNewTicketData({ ...newTicketData, targetDate: e.target.value })}\r\n                      className=\"w-full px-4 py-3 rounded-xl bg-slate-900 border border-slate-700 text-white focus:border-cyan-500 outline-none\"\r\n                    />\r\n                  </div>\r\n                </>\r\n              )}\r\n\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-slate-300 mb-2\">ClickUp Ticket <span className=\"text-slate-500\">(optional)</span></label>\r\n                <input\r\n                  type=\"text\"\r\n                  value={newTicketData.clickupTicket}\r\n                  onChange={(e) => setNewTicketData({ ...newTicketData, clickupTicket: e.target.value })}\r\n                  className=\"w-full px-4 py-3 rounded-xl bg-slate-900 border border-slate-700 text-white focus:border-cyan-500 outline-none\"\r\n                  placeholder=\"Enter ClickUp ticket ID...\"\r\n                />\r\n              </div>\r\n\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-slate-300 mb-2\">Task Location</label>\r\n                <div className=\"flex gap-3\">\r\n                  <button\r\n                    type=\"button\"\r\n                    onClick={() => setNewTicketData({ ...newTicketData, location: 'on-site' })}\r\n                    className={`flex-1 px-4 py-3 rounded-xl border transition-all ${\r\n                      newTicketData.location === 'on-site'\r\n                        ? 'bg-cyan-500/20 border-cyan-500 text-cyan-400'\r\n                        : 'bg-slate-900/50 border-slate-700 text-slate-400'\r\n                    }`}\r\n                  >\r\n                    üìç On-Site\r\n                  </button>\r\n                  <button\r\n                    type=\"button\"\r\n                    onClick={() => setNewTicketData({ ...newTicketData, location: 'remote' })}\r\n                    className={`flex-1 px-4 py-3 rounded-xl border transition-all ${\r\n                      newTicketData.location === 'remote'\r\n                        ? 'bg-violet-500/20 border-violet-500 text-violet-400'\r\n                        : 'bg-slate-900/50 border-slate-700 text-slate-400'\r\n                    }`}\r\n                  >\r\n                    üåê Remote\r\n                  </button>\r\n                </div>\r\n              </div>\r\n\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-slate-300 mb-2\">Issue Description <span className=\"text-rose-400\">*</span></label>\r\n                <textarea\r\n                  value={newTicketData.issue}\r\n                  onChange={(e) => setNewTicketData({ ...newTicketData, issue: e.target.value })}\r\n                  rows={4}\r\n                  required\r\n                  className=\"w-full px-4 py-3 rounded-xl bg-slate-900 border border-slate-700 text-white focus:border-cyan-500 outline-none resize-none\"\r\n                  placeholder=\"Describe the issue...\"\r\n                />\r\n              </div>\r\n\r\n              {/* Dependencies Checkbox - only for regular tickets */}\r\n              {newTicketData.ticketType !== 'New Site' && (\r\n                <div className=\"p-4 rounded-xl bg-slate-900/50 border border-slate-700/50\">\r\n                  <label className=\"flex items-center gap-3 cursor-pointer\">\r\n                    <input\r\n                      type=\"checkbox\"\r\n                      checked={newTicketData.hasDependencies}\r\n                      onChange={(e) => setNewTicketData({ \r\n                        ...newTicketData, \r\n                        hasDependencies: e.target.checked,\r\n                        dependencyName: e.target.checked ? newTicketData.dependencyName : ''\r\n                      })}\r\n                      className=\"w-5 h-5 rounded border-slate-600 bg-slate-800 text-cyan-500 focus:ring-cyan-500\"\r\n                    />\r\n                    <div>\r\n                      <span className=\"text-sm font-medium text-slate-300\">Dependencies</span>\r\n                      <p className=\"text-xs text-slate-500\">Check if this ticket depends on another company or department</p>\r\n                    </div>\r\n                  </label>\r\n\r\n                  {newTicketData.hasDependencies && (\r\n                    <div className=\"mt-4 animate-fade-in\">\r\n                      <label className=\"block text-sm font-medium text-slate-300 mb-2\">\r\n                        Name of company or department <span className=\"text-rose-400\">*</span>\r\n                      </label>\r\n                      <input\r\n                        type=\"text\"\r\n                        value={newTicketData.dependencyName}\r\n                        onChange={(e) => setNewTicketData({ ...newTicketData, dependencyName: e.target.value })}\r\n                        required={newTicketData.hasDependencies}\r\n                        className=\"w-full px-4 py-3 rounded-xl bg-slate-900 border border-slate-700 text-white focus:border-cyan-500 outline-none\"\r\n                        placeholder=\"e.g., IT Department, ABC Company...\"\r\n                      />\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              )}\r\n\r\n              {/* File uploads for regular tickets (max 5 images) */}\r\n              {newTicketData.ticketType !== 'New Site' && (\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-slate-300 mb-2\">\r\n                    Attachments <span className=\"text-slate-500\">(up to 5 images)</span>\r\n                  </label>\r\n                  <input\r\n                    type=\"file\"\r\n                    accept=\"image/*\"\r\n                    multiple\r\n                    onChange={(e) => {\r\n                      const files = Array.from(e.target.files || []);\r\n                      if (files.length + newTicketData.attachments.length > 5) {\r\n                        alert('Maximum 5 images allowed');\r\n                        return;\r\n                      }\r\n                      setNewTicketData({ ...newTicketData, attachments: [...newTicketData.attachments, ...files] });\r\n                    }}\r\n                    className=\"w-full px-4 py-3 rounded-xl bg-slate-900 border border-slate-700 text-white focus:border-cyan-500 outline-none\"\r\n                  />\r\n                  {newTicketData.attachments.length > 0 && (\r\n                    <div className=\"mt-2 flex flex-wrap gap-2\">\r\n                      {newTicketData.attachments.map((file, idx) => (\r\n                        <span key={idx} className=\"px-3 py-1 rounded-lg bg-slate-700 text-slate-300 text-sm flex items-center gap-2\">\r\n                          {file.name}\r\n                          <button\r\n                            type=\"button\"\r\n                            onClick={() => {\r\n                              setNewTicketData({\r\n                                ...newTicketData,\r\n                                attachments: newTicketData.attachments.filter((_, i) => i !== idx)\r\n                              });\r\n                            }}\r\n                            className=\"text-rose-400 hover:text-rose-300\"\r\n                          >\r\n                            √ó\r\n                          </button>\r\n                        </span>\r\n                      ))}\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              )}\r\n\r\n              {/* Site files for New Site tickets */}\r\n              {newTicketData.ticketType === 'New Site' && (\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-slate-300 mb-2\">\r\n                    Site Information, BOM, Site Images, Hardware Delivery Notes, etc.\r\n                  </label>\r\n                  <input\r\n                    type=\"file\"\r\n                    accept=\"image/*,.pdf,.doc,.docx\"\r\n                    onChange={(e) => {\r\n                      const file = e.target.files?.[0];\r\n                      if (file) {\r\n                        const label = prompt('Enter label for this file (e.g., \"Site Information\", \"BOM\", \"Site Images\", \"Hardware Delivery Notes\"):') || 'Site File';\r\n                        setNewTicketData({\r\n                          ...newTicketData,\r\n                          siteFiles: [...newTicketData.siteFiles, { file, label }]\r\n                        });\r\n                      }\r\n                    }}\r\n                    className=\"w-full px-4 py-3 rounded-xl bg-slate-900 border border-slate-700 text-white focus:border-cyan-500 outline-none\"\r\n                  />\r\n                  {newTicketData.siteFiles.length > 0 && (\r\n                    <div className=\"mt-2 space-y-2\">\r\n                      {newTicketData.siteFiles.map((item, idx) => (\r\n                        <div key={idx} className=\"px-3 py-2 rounded-lg bg-slate-700 text-slate-300 text-sm flex items-center justify-between\">\r\n                          <div>\r\n                            <span className=\"font-medium\">{item.label}:</span> {item.file.name}\r\n                          </div>\r\n                          <button\r\n                            type=\"button\"\r\n                            onClick={() => {\r\n                              setNewTicketData({\r\n                                ...newTicketData,\r\n                                siteFiles: newTicketData.siteFiles.filter((_, i) => i !== idx)\r\n                              });\r\n                            }}\r\n                            className=\"text-rose-400 hover:text-rose-300 ml-2\"\r\n                          >\r\n                            √ó\r\n                          </button>\r\n                        </div>\r\n                      ))}\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              )}\r\n            </div>\r\n\r\n            <div className=\"mt-6 flex gap-3\">\r\n              <button\r\n                type=\"submit\"\r\n                disabled={\r\n                  isSubmitting || \r\n                  uploadingFiles ||\r\n                  !newTicketData.issue.trim() || \r\n                  !newTicketData.client.trim() || \r\n                  !newTicketData.ticketType || \r\n                  (newTicketData.ticketType !== 'New Site' && (!newTicketData.estateOrBuilding.trim() || !newTicketData.cmlLocation.trim())) ||\r\n                  (newTicketData.ticketType !== 'New Site' && newTicketData.hasDependencies && !newTicketData.dependencyName.trim()) ||\r\n                  (newTicketData.ticketType === 'New Site' && !newTicketData.siteName.trim())\r\n                }\r\n                className=\"flex-1 px-5 py-3 rounded-xl bg-gradient-to-r from-emerald-500 to-teal-600 text-white font-medium disabled:opacity-50\"\r\n              >\r\n                {isSubmitting || uploadingFiles ? 'Creating...' : 'Open Ticket'}\r\n              </button>\r\n              <button\r\n                type=\"button\"\r\n                onClick={() => {\r\n                  setShowNewTicketForm(false);\r\n                  setNewTicketData({ \r\n                    issue: '', \r\n                    location: 'remote', \r\n                    client: '', \r\n                    clickupTicket: '', \r\n                    hasDependencies: false, \r\n                    dependencyName: '', \r\n                    ticketType: '', \r\n                    estateOrBuilding: '', \r\n                    cmlLocation: '',\r\n                    siteName: '',\r\n                    installers: [],\r\n                    installerInput: '',\r\n                    dependencies: [],\r\n                    dependencyInput: '',\r\n                    targetDate: '',\r\n                    attachments: [],\r\n                    siteFiles: []\r\n                  });\r\n                }}\r\n                className=\"px-5 py-3 rounded-xl bg-slate-700 text-slate-300\"\r\n              >\r\n                Cancel\r\n              </button>\r\n            </div>\r\n          </form>\r\n        )}\r\n\r\n        {/* Tickets Tabs */}\r\n        <div className=\"mb-6\">\r\n          <div className=\"flex gap-2 p-1 bg-slate-800/50 rounded-xl w-fit\">\r\n            <button\r\n              onClick={() => setActiveTab('open')}\r\n              className={`px-4 py-2 rounded-lg text-sm font-medium transition-all ${\r\n                activeTab === 'open' ? 'bg-amber-500/20 text-amber-400' : 'text-slate-400'\r\n              }`}\r\n            >\r\n              Open Tickets ({openTickets.length})\r\n            </button>\r\n            <button\r\n              onClick={() => setActiveTab('closed')}\r\n              className={`px-4 py-2 rounded-lg text-sm font-medium transition-all ${\r\n                activeTab === 'closed' ? 'bg-emerald-500/20 text-emerald-400' : 'text-slate-400'\r\n              }`}\r\n            >\r\n              Closed Tickets ({closedTickets.length})\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Tickets List */}\r\n        <section>\r\n          {loadingTickets ? (\r\n            <div className=\"text-center py-12\">\r\n              <div className=\"w-8 h-8 border-2 border-cyan-500 border-t-transparent rounded-full animate-spin mx-auto\" />\r\n            </div>\r\n          ) : activeTab === 'open' ? (\r\n            openTickets.length === 0 ? (\r\n              <div className=\"text-center py-12 rounded-2xl bg-slate-800/30 border border-slate-700/30\">\r\n                <p className=\"text-slate-500\">No open tickets. Great job!</p>\r\n              </div>\r\n            ) : (\r\n              <div className=\"space-y-4\">\r\n                {openTickets.map((ticket) => (\r\n                  <div key={ticket.id} className=\"p-5 rounded-2xl bg-slate-800/40 border border-amber-500/30\">\r\n                    <div className=\"flex items-start justify-between mb-4\">\r\n                      <div>\r\n                        <div className=\"flex items-center flex-wrap gap-2 mb-2\">\r\n                          <span className=\"px-2.5 py-1 rounded-lg bg-amber-500/20 text-amber-400 text-xs font-bold font-mono\">\r\n                            {ticket.ticket_number}\r\n                          </span>\r\n                          <span className=\"px-2.5 py-1 rounded-lg bg-slate-700 text-slate-300 text-xs\">\r\n                            {ticket.client}\r\n                          </span>\r\n                          <span className={`px-2.5 py-1 rounded-lg text-xs ${\r\n                            ticket.location === 'on-site' ? 'bg-cyan-500/20 text-cyan-400' : 'bg-violet-500/20 text-violet-400'\r\n                          }`}>\r\n                            {ticket.location === 'on-site' ? 'üìç On-Site' : 'üåê Remote'}\r\n                          </span>\r\n                          {ticket.clickup_ticket && (\r\n                            <span className=\"px-2.5 py-1 rounded-lg bg-purple-500/20 text-purple-400 text-xs\">\r\n                              üîó {ticket.clickup_ticket}\r\n                            </span>\r\n                          )}\r\n                          {ticket.has_dependencies && (\r\n                            <span className=\"px-2.5 py-1 rounded-lg bg-rose-500/20 text-rose-400 text-xs\">\r\n                              ‚ö†Ô∏è Has Dependencies\r\n                            </span>\r\n                          )}\r\n                        </div>\r\n                        <p className=\"text-xs text-slate-500\">\r\n                          {new Date(ticket.created_at).toLocaleDateString('en-ZA', { \r\n                            weekday: 'short', year: 'numeric', month: 'short', day: 'numeric', hour: '2-digit', minute: '2-digit'\r\n                          })}\r\n                        </p>\r\n                      </div>\r\n                      <span className=\"px-3 py-1 rounded-full bg-amber-500/20 text-amber-400 text-xs\">Open</span>\r\n                    </div>\r\n\r\n                    <div className=\"mb-4\">\r\n                      <p className=\"text-xs text-slate-500 mb-1\">Issue</p>\r\n                      <p className=\"text-slate-200\">{ticket.issue}</p>\r\n                    </div>\r\n\r\n                    {/* New Site ticket fields */}\r\n                    {ticket.ticket_type === 'New Site' && (\r\n                      <div className=\"mb-4 space-y-3\">\r\n                        {ticket.site_name && (\r\n                          <div className=\"p-3 rounded-xl bg-cyan-500/10 border border-cyan-500/20\">\r\n                            <p className=\"text-xs text-cyan-400 mb-1\">Site Name</p>\r\n                            <p className=\"text-sm text-slate-300\">{ticket.site_name}</p>\r\n                          </div>\r\n                        )}\r\n                        {ticket.installers && ticket.installers.length > 0 && (\r\n                          <div className=\"p-3 rounded-xl bg-violet-500/10 border border-violet-500/20\">\r\n                            <p className=\"text-xs text-violet-400 mb-2\">Installers</p>\r\n                            <div className=\"flex flex-wrap gap-2\">\r\n                              {ticket.installers.map((installer, idx) => (\r\n                                <span key={idx} className=\"px-2 py-1 rounded-lg bg-slate-700 text-slate-300 text-xs\">\r\n                                  {installer}\r\n                                </span>\r\n                              ))}\r\n                            </div>\r\n                          </div>\r\n                        )}\r\n                        {ticket.dependencies && ticket.dependencies.length > 0 && (\r\n                          <div className=\"p-3 rounded-xl bg-amber-500/10 border border-amber-500/20\">\r\n                            <p className=\"text-xs text-amber-400 mb-2\">Dependencies</p>\r\n                            <div className=\"flex flex-wrap gap-2\">\r\n                              {ticket.dependencies.map((dep, idx) => (\r\n                                <span key={idx} className=\"px-2 py-1 rounded-lg bg-slate-700 text-slate-300 text-xs\">\r\n                                  {dep}\r\n                                </span>\r\n                              ))}\r\n                            </div>\r\n                          </div>\r\n                        )}\r\n                        {ticket.target_date && (\r\n                          <div className=\"p-3 rounded-xl bg-emerald-500/10 border border-emerald-500/20\">\r\n                            <p className=\"text-xs text-emerald-400 mb-1\">Target Date</p>\r\n                            <p className=\"text-sm text-slate-300\">{new Date(ticket.target_date).toLocaleDateString('en-ZA')}</p>\r\n                          </div>\r\n                        )}\r\n                        {ticket.site_files && ticket.site_files.length > 0 && (\r\n                          <div className=\"p-3 rounded-xl bg-blue-500/10 border border-blue-500/20\">\r\n                            <p className=\"text-xs text-blue-400 mb-2\">Site Files</p>\r\n                            <div className=\"space-y-2\">\r\n                              {ticket.site_files.map((file, idx) => (\r\n                                <div key={idx} className=\"flex items-center gap-2\">\r\n                                  <a\r\n                                    href={file.url}\r\n                                    target=\"_blank\"\r\n                                    rel=\"noopener noreferrer\"\r\n                                    className=\"text-sm text-cyan-400 hover:text-cyan-300 flex items-center gap-1\"\r\n                                  >\r\n                                    <svg className=\"w-4 h-4\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n                                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M15 12a3 3 0 11-6 0 3 3 0 016 0z\" />\r\n                                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z\" />\r\n                                    </svg>\r\n                                    {file.label || 'File'}: {file.name}\r\n                                  </a>\r\n                                </div>\r\n                              ))}\r\n                            </div>\r\n                          </div>\r\n                        )}\r\n                      </div>\r\n                    )}\r\n\r\n                    {/* Regular ticket dependencies */}\r\n                    {ticket.has_dependencies && ticket.dependency_name && ticket.ticket_type !== 'New Site' && (\r\n                      <div className=\"mb-4 p-3 rounded-xl bg-rose-500/10 border border-rose-500/20\">\r\n                        <p className=\"text-xs text-rose-400 mb-1\">Dependency</p>\r\n                        <p className=\"text-sm text-slate-300\">{ticket.dependency_name}</p>\r\n                      </div>\r\n                    )}\r\n\r\n                    {/* Attachments for regular tickets */}\r\n                    {ticket.attachments && ticket.attachments.length > 0 && ticket.ticket_type !== 'New Site' && (\r\n                      <div className=\"mb-4 p-3 rounded-xl bg-indigo-500/10 border border-indigo-500/20\">\r\n                        <p className=\"text-xs text-indigo-400 mb-2\">Attachments</p>\r\n                        <div className=\"grid grid-cols-2 md:grid-cols-3 gap-2\">\r\n                          {ticket.attachments.map((attachment, idx) => (\r\n                            <a\r\n                              key={idx}\r\n                              href={attachment.url}\r\n                              target=\"_blank\"\r\n                              rel=\"noopener noreferrer\"\r\n                              className=\"relative group\"\r\n                            >\r\n                              <img\r\n                                src={attachment.url}\r\n                                alt={attachment.name}\r\n                                className=\"w-full h-24 object-cover rounded-lg border border-slate-700 hover:border-cyan-500 transition-colors\"\r\n                              />\r\n                              <div className=\"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity rounded-lg flex items-center justify-center\">\r\n                                <span className=\"text-white text-xs\">{attachment.name}</span>\r\n                              </div>\r\n                            </a>\r\n                          ))}\r\n                        </div>\r\n                      </div>\r\n                    )}\r\n\r\n                    {/* Existing Updates */}\r\n                    {ticket.updates && ticket.updates.length > 0 && (\r\n                      <div className=\"mb-4\">\r\n                        <p className=\"text-xs text-slate-500 mb-2\">Updates</p>\r\n                        <div className=\"space-y-2\">\r\n                          {ticket.updates.map((update, idx) => (\r\n                            <div key={idx} className=\"p-3 rounded-xl bg-blue-500/10 border border-blue-500/20\">\r\n                              <p className=\"text-sm text-slate-300\">{update.text}</p>\r\n                              <p className=\"text-xs text-blue-400 mt-1\">\r\n                                {new Date(update.timestamp).toLocaleDateString('en-ZA', {\r\n                                  day: 'numeric', month: 'short', year: 'numeric',\r\n                                  hour: '2-digit', minute: '2-digit'\r\n                                })}\r\n                              </p>\r\n                            </div>\r\n                          ))}\r\n                        </div>\r\n                      </div>\r\n                    )}\r\n\r\n                    {/* Add Update Section */}\r\n                    {updatingTicketId === ticket.id ? (\r\n                      <div className=\"mb-4 p-4 rounded-xl bg-slate-900/50 border border-slate-700/50 animate-fade-in\">\r\n                        <h4 className=\"text-sm font-semibold text-blue-400 mb-3\">Add Update</h4>\r\n                        <textarea\r\n                          value={newUpdateText}\r\n                          onChange={(e) => setNewUpdateText(e.target.value)}\r\n                          rows={2}\r\n                          className=\"w-full px-4 py-3 rounded-xl bg-slate-900 border border-slate-700 text-white focus:border-blue-500 outline-none resize-none mb-3\"\r\n                          placeholder=\"Enter update details...\"\r\n                        />\r\n                        <div className=\"flex gap-2\">\r\n                          <button\r\n                            onClick={() => handleAddUpdate(ticket.id)}\r\n                            disabled={!newUpdateText.trim()}\r\n                            className=\"flex-1 px-4 py-2 rounded-xl bg-blue-500 text-white text-sm font-medium disabled:opacity-50\"\r\n                          >\r\n                            Save Update\r\n                          </button>\r\n                          <button\r\n                            onClick={() => { setUpdatingTicketId(null); setNewUpdateText(''); }}\r\n                            className=\"px-4 py-2 rounded-xl bg-slate-700 text-slate-300 text-sm\"\r\n                          >\r\n                            Cancel\r\n                          </button>\r\n                        </div>\r\n                      </div>\r\n                    ) : (\r\n                      <button\r\n                        onClick={() => setUpdatingTicketId(ticket.id)}\r\n                        className=\"mb-4 w-full px-4 py-2 rounded-xl border border-blue-500/50 text-blue-400 hover:bg-blue-500/10 transition-colors flex items-center justify-center gap-2\"\r\n                      >\r\n                        <svg className=\"w-4 h-4\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n                          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 4v16m8-8H4\" />\r\n                        </svg>\r\n                        Add Update\r\n                      </button>\r\n                    )}\r\n\r\n                    {/* Auto Time Tracker Section */}\r\n                    <div className=\"mb-4 p-3 rounded-xl bg-violet-500/10 border border-violet-500/20\">\r\n                      <div className=\"flex items-center justify-between mb-2\">\r\n                        <span className=\"text-xs text-violet-400 font-medium\">‚è±Ô∏è Auto Time Tracked</span>\r\n                        <span className=\"text-sm font-bold text-violet-300\">\r\n                          {(() => {\r\n                            // Calculate total time including current elapsed time\r\n                            const loggedTime = ticket.total_time_minutes || 0;\r\n                            const lastUpdateTime = ticket.updates && ticket.updates.length > 0 \r\n                              ? new Date(ticket.updates[ticket.updates.length - 1].timestamp).getTime()\r\n                              : new Date(ticket.created_at).getTime();\r\n                            const currentElapsed = Math.round((new Date().getTime() - lastUpdateTime) / (1000 * 60));\r\n                            const totalMinutes = loggedTime + currentElapsed;\r\n                            return `${Math.floor(totalMinutes / 60)}h ${totalMinutes % 60}m`;\r\n                          })()}\r\n                        </span>\r\n                      </div>\r\n                      \r\n                      {/* Time Logs */}\r\n                      {ticket.time_logs && ticket.time_logs.length > 0 ? (\r\n                        <div className=\"max-h-32 overflow-y-auto\">\r\n                          {ticket.time_logs.map((log: { minutes: number; description: string; timestamp: string; logged_by?: string }, idx: number) => {\r\n                            // For the initial \"Ticket opened\" log with 0 minutes, show actual elapsed time\r\n                            const isInitialLog = log.description === 'Ticket opened' && log.minutes === 0 && idx === 0;\r\n                            const displayMinutes = isInitialLog && ticket.status === 'open'\r\n                              ? Math.round((new Date().getTime() - new Date(ticket.created_at).getTime()) / (1000 * 60))\r\n                              : log.minutes;\r\n                            \r\n                            return (\r\n                              <div key={idx} className=\"text-xs py-1.5 border-b border-violet-500/10 last:border-0\">\r\n                                <div className=\"flex items-start justify-between gap-2\">\r\n                                  <div className=\"flex-1\">\r\n                                    <span className=\"text-violet-300 font-medium\">\r\n                                      {displayMinutes > 0 ? `${displayMinutes}m` : '0m'}\r\n                                      {isInitialLog && ticket.status === 'open' && (\r\n                                        <span className=\"text-violet-400/70 ml-1 text-xs\">(live)</span>\r\n                                      )}\r\n                                    </span>\r\n                                    <span className=\"text-slate-400 mx-1\">-</span>\r\n                                    <span className=\"text-slate-300\">{log.description}</span>\r\n                                  </div>\r\n                                  <span className=\"text-slate-500 text-xs whitespace-nowrap\">\r\n                                    {new Date(log.timestamp).toLocaleDateString('en-ZA', { month: 'short', day: 'numeric', hour: '2-digit', minute: '2-digit' })}\r\n                                  </span>\r\n                                </div>\r\n                                {log.logged_by && log.logged_by !== 'System' && (\r\n                                  <p className=\"text-xs text-slate-500 mt-0.5\">by {log.logged_by}</p>\r\n                                )}\r\n                              </div>\r\n                            );\r\n                          })}\r\n                          {/* Show additional current elapsed time if there are updates */}\r\n                          {ticket.status === 'open' && ticket.updates && ticket.updates.length > 0 && (() => {\r\n                            const lastUpdateTime = new Date(ticket.updates[ticket.updates.length - 1].timestamp).getTime();\r\n                            const currentElapsed = Math.round((new Date().getTime() - lastUpdateTime) / (1000 * 60));\r\n                            return currentElapsed > 0 ? (\r\n                              <div className=\"text-xs py-1.5 border-t border-violet-500/20 mt-1 pt-1.5\">\r\n                                <div className=\"flex items-start justify-between gap-2\">\r\n                                  <div className=\"flex-1\">\r\n                                    <span className=\"text-violet-300 font-medium\">{currentElapsed}m</span>\r\n                                    <span className=\"text-slate-400 mx-1\">-</span>\r\n                                    <span className=\"text-slate-300 italic\">Currently tracking since last update</span>\r\n                                  </div>\r\n                                </div>\r\n                              </div>\r\n                            ) : null;\r\n                          })()}\r\n                        </div>\r\n                      ) : (\r\n                        <div>\r\n                          <p className=\"text-xs text-slate-500 italic mb-2\">Time tracking started when ticket was opened.</p>\r\n                          {ticket.status === 'open' && (() => {\r\n                            const elapsed = Math.round((new Date().getTime() - new Date(ticket.created_at).getTime()) / (1000 * 60));\r\n                            return (\r\n                              <p className=\"text-xs text-violet-300\">\r\n                                Current elapsed time: {Math.floor(elapsed / 60)}h {elapsed % 60}m\r\n                              </p>\r\n                            );\r\n                          })()}\r\n                        </div>\r\n                      )}\r\n                    </div>\r\n\r\n                    {closingTicketId === ticket.id ? (\r\n                      <div className=\"p-4 rounded-xl bg-slate-900/50 border border-slate-700/50\">\r\n                        <div className=\"flex items-center justify-between mb-4\">\r\n                          <h4 className=\"text-sm font-semibold text-emerald-400\">Close Ticket</h4>\r\n                          <div className=\"text-xs text-slate-500\">\r\n                            ‚è± Time elapsed: {Math.round((new Date().getTime() - new Date(ticket.created_at).getTime()) / (1000 * 60))} min\r\n                          </div>\r\n                        </div>\r\n                        <div className=\"space-y-4\">\r\n                          <div>\r\n                            <label className=\"block text-sm text-slate-400 mb-2\">Resolution <span className=\"text-rose-400\">*</span></label>\r\n                            <textarea\r\n                              value={closeTicketData.resolution}\r\n                              onChange={(e) => setCloseTicketData({ ...closeTicketData, resolution: e.target.value })}\r\n                              rows={3}\r\n                              className=\"w-full px-4 py-3 rounded-xl bg-slate-900 border border-slate-700 text-white focus:border-emerald-500 outline-none resize-none\"\r\n                              placeholder=\"Describe how the issue was resolved...\"\r\n                            />\r\n                          </div>\r\n                          <p className=\"text-xs text-slate-500 italic\">\r\n                            Response time will be automatically calculated when you close the ticket.\r\n                          </p>\r\n                          <div className=\"flex gap-3\">\r\n                            <button\r\n                              onClick={() => handleCloseTicket(ticket.id)}\r\n                              disabled={!closeTicketData.resolution.trim()}\r\n                              className=\"flex-1 px-4 py-2 rounded-xl bg-emerald-500 text-white disabled:opacity-50\"\r\n                            >\r\n                              Close Ticket\r\n                            </button>\r\n                            <button\r\n                              onClick={() => { setClosingTicketId(null); setCloseTicketData({ resolution: '' }); }}\r\n                              className=\"px-4 py-2 rounded-xl bg-slate-700 text-slate-300\"\r\n                            >\r\n                              Cancel\r\n                            </button>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    ) : (\r\n                      <button\r\n                        onClick={() => setClosingTicketId(ticket.id)}\r\n                        className=\"w-full px-4 py-2 rounded-xl border border-emerald-500/50 text-emerald-400 hover:bg-emerald-500/10\"\r\n                      >\r\n                        Resolve & Close Ticket\r\n                      </button>\r\n                    )}\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            )\r\n          ) : (\r\n            closedTickets.length === 0 ? (\r\n              <div className=\"text-center py-12 rounded-2xl bg-slate-800/30 border border-slate-700/30\">\r\n                <p className=\"text-slate-500\">No closed tickets yet.</p>\r\n              </div>\r\n            ) : (\r\n              <div className=\"space-y-4\">\r\n                {closedTickets.map((ticket) => (\r\n                  <div key={ticket.id} className=\"p-5 rounded-2xl bg-slate-800/40 border border-slate-700/50\">\r\n                    <div className=\"flex items-start justify-between mb-4\">\r\n                      <div>\r\n                        <div className=\"flex items-center flex-wrap gap-2 mb-2\">\r\n                          <span className=\"px-2.5 py-1 rounded-lg bg-slate-700 text-slate-300 text-xs font-bold font-mono\">\r\n                            {ticket.ticket_number}\r\n                          </span>\r\n                          <span className=\"px-2.5 py-1 rounded-lg bg-slate-700/50 text-slate-400 text-xs\">\r\n                            {ticket.client}\r\n                          </span>\r\n                          {ticket.response_time_minutes && ticket.response_time_minutes > 0 && (\r\n                            <span className={`px-2.5 py-1 rounded-lg text-xs ${\r\n                              ticket.response_time_minutes <= 60 ? 'bg-emerald-500/20 text-emerald-400' : 'bg-amber-500/20 text-amber-400'\r\n                            }`}>\r\n                              ‚è± {ticket.response_time_minutes} min\r\n                            </span>\r\n                          )}\r\n                          {ticket.has_dependencies && (\r\n                            <span className=\"px-2.5 py-1 rounded-lg bg-rose-500/20 text-rose-400 text-xs\">\r\n                              ‚ö†Ô∏è Dependency\r\n                            </span>\r\n                          )}\r\n                        </div>\r\n                        <p className=\"text-xs text-slate-500\">\r\n                          Closed: {ticket.closed_at && new Date(ticket.closed_at).toLocaleDateString('en-ZA', { month: 'short', day: 'numeric', hour: '2-digit', minute: '2-digit' })}\r\n                        </p>\r\n                      </div>\r\n                      <span className=\"px-3 py-1 rounded-full bg-emerald-500/20 text-emerald-400 text-xs\">Closed</span>\r\n                    </div>\r\n\r\n                    {ticket.has_dependencies && ticket.dependency_name && (\r\n                      <div className=\"mb-4 p-3 rounded-xl bg-rose-500/10 border border-rose-500/20\">\r\n                        <p className=\"text-xs text-rose-400 mb-1\">Dependency</p>\r\n                        <p className=\"text-sm text-slate-300\">{ticket.dependency_name}</p>\r\n                      </div>\r\n                    )}\r\n\r\n                    {/* Updates for closed tickets */}\r\n                    {ticket.updates && ticket.updates.length > 0 && (\r\n                      <div className=\"mb-4\">\r\n                        <p className=\"text-xs text-slate-500 mb-2\">Updates ({ticket.updates.length})</p>\r\n                        <div className=\"space-y-2\">\r\n                          {ticket.updates.map((update, idx) => (\r\n                            <div key={idx} className=\"p-3 rounded-xl bg-blue-500/10 border border-blue-500/20\">\r\n                              <p className=\"text-sm text-slate-300\">{update.text}</p>\r\n                              <p className=\"text-xs text-blue-400 mt-1\">\r\n                                {new Date(update.timestamp).toLocaleDateString('en-ZA', {\r\n                                  day: 'numeric', month: 'short', year: 'numeric',\r\n                                  hour: '2-digit', minute: '2-digit'\r\n                                })}\r\n                              </p>\r\n                            </div>\r\n                          ))}\r\n                        </div>\r\n                      </div>\r\n                    )}\r\n\r\n                    <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n                      <div className=\"p-3 rounded-xl bg-slate-900/50\">\r\n                        <p className=\"text-xs text-slate-500 mb-1\">Issue</p>\r\n                        <p className=\"text-sm text-slate-300\">{ticket.issue}</p>\r\n                      </div>\r\n                      <div className=\"p-3 rounded-xl bg-emerald-500/10 border border-emerald-500/20\">\r\n                        <p className=\"text-xs text-emerald-400 mb-1\">Resolution</p>\r\n                        <p className=\"text-sm text-slate-300\">{ticket.resolution}</p>\r\n                      </div>\r\n                    </div>\r\n\r\n                    {/* Auto Time Tracked for closed tickets */}\r\n                    {(ticket.total_time_minutes || (ticket.time_logs && ticket.time_logs.length > 0)) && (\r\n                      <div className=\"mt-4 p-3 rounded-xl bg-violet-500/10 border border-violet-500/20\">\r\n                        <div className=\"flex items-center justify-between mb-2\">\r\n                          <span className=\"text-xs text-violet-400 font-medium\">‚è±Ô∏è Auto Time Tracked</span>\r\n                          <span className=\"text-sm font-bold text-violet-300\">\r\n                            {ticket.total_time_minutes ? `${Math.floor(ticket.total_time_minutes / 60)}h ${ticket.total_time_minutes % 60}m` : '0h 0m'}\r\n                          </span>\r\n                        </div>\r\n                        {ticket.time_logs && ticket.time_logs.length > 0 && (\r\n                          <div className=\"max-h-32 overflow-y-auto\">\r\n                            {ticket.time_logs.map((log: { minutes: number; description: string; timestamp: string; logged_by?: string }, idx: number) => (\r\n                              <div key={idx} className=\"text-xs py-1.5 border-b border-violet-500/10 last:border-0\">\r\n                                <div className=\"flex items-start justify-between gap-2\">\r\n                                  <div className=\"flex-1\">\r\n                                    <span className=\"text-violet-300 font-medium\">{log.minutes}m</span>\r\n                                    <span className=\"text-slate-400 mx-1\">-</span>\r\n                                    <span className=\"text-slate-300\">{log.description}</span>\r\n                                  </div>\r\n                                  <span className=\"text-slate-500 text-xs whitespace-nowrap\">\r\n                                    {new Date(log.timestamp).toLocaleDateString('en-ZA', { month: 'short', day: 'numeric', hour: '2-digit', minute: '2-digit' })}\r\n                                  </span>\r\n                                </div>\r\n                                {log.logged_by && (\r\n                                  <p className=\"text-xs text-slate-500 mt-0.5\">by {log.logged_by}</p>\r\n                                )}\r\n                              </div>\r\n                            ))}\r\n                          </div>\r\n                        )}\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            )\r\n          )}\r\n        </section>\r\n      </main>\r\n    </div>\r\n  );\r\n}\r\n\r\n"],"names":[],"mappings":"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"}}]
}